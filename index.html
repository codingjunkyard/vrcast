<html>
  <head>
    <title>Basic</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-log-component/dist/aframe-log-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.controls.min.js"></script>
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="js/rotate-player.js"></script>
    <script src="js/complog.js"></script>
  </head>

  <body>
    <a-scene stats vrlog>
      <a-assets>
        <a-asset-items
          id="bottle"
          src="https://cdn.glitch.com/f4d20005-e621-44df-8845-58843d86d147%2FWine_Bottle_White.glb?v=1573510574253"
        ></a-asset-items>
        <img />
        <video></video>
        <audio></audio>
        <a-mixin
          id="interaction"
          physics-collider
          static-body="shape: sphere; sphereRadius: 0.02"
          super-hands="colliderEvent: collisions;
                            colliderEventProperty: els;
                            colliderEndEvent: collisions;
                            colliderEndEventProperty: clearedEls"
          collision-filter="group: hands;
                                   collidesWith: default, items;
                                   collisionForces: false"
        >
        </a-mixin>
      </a-assets>

      <!--START HERE -->
      <a-entity id= "environment" environment="preset: starry"></a-entity>

      <!-- The Player rig. -->
      <!-- gamepad-controls="controller:1"-->
      <a-entity id="cameraRig" movement-controls rotateplayer="hand:combine">
        <a-camera id="head" camera></a-camera>
        <a-entity
          id="left-hand"
          oculus-touch-controls="hand:left"
          teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; button: trigger"
        >
          <a-entity
            text="value: use thumbstick to move;xOffset:-.1"
            rotation="-90 0 0"
          ></a-entity>
        </a-entity>
        <a-entity
          id="right-hand"
          laser-controls=""
          raycaster="far: 3"
          oculus-touch-controls
        >
          <a-entity
            id="handText"
            text="anchor: left; xOffset:.1; value: use thumbstick \n to rotate R or L"
            rotation="-90 0 0"
          ></a-entity>
        </a-entity>
      </a-entity>

      <!-- The VR Console. -->
      <a-log position="0 1.6 -1.5"></a-log>

      <!--Interactive planes-->
      <a-entity layout="type: line; margin: 25" position="1.25 2.5 -1.5">
        <a-entity
          geometry="primitive: plane; height: .25; width: auto"
          material="color: green"
          text="align: center; width: 1; value: starry"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:ocean"
          event-set__click2="_event: click; _target: #controlText; value: rotation is now on 
                           LEFT thumbstick and movement on RIGHT thumbstick; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: auto"
          material="color: black"
          text="align: center; width: 1; value: Click here to COMBINE ROTATION and MOVEMENT\ncontrols to RIGHT thumbstick."
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #cameraRig; rotateplayer.hand:combine"
          event-set__click2="_event: click; _target: #controlText; value: rotation is now on 
                           movement and rotation now on RIGHT thumbstick; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: auto"
          material="color: black"
          text="align: center; width: 1; value: Click here to move the ROTATION\n controls to RIGHT thumbstick ."
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #cameraRig; rotateplayer.hand:right"
          event-set__click2="_event: click; _target: #controlText; value: rotation is now on 
                           RIGHT thumbstick and movement on LEFT thumbstick; visible:true"
        ></a-entity>
      </a-entity>
      
      <a-text
        id="controlText"
        value="This button does nothing yet.\nIt's a Work in Progress"
        align="center"
        color="#FFF"
        visible="false"
        position="1.25 0.6 -1.5"
        scale=".25 .25 .25"
      ></a-text>
    </a-scene>
  </body>
</html>
