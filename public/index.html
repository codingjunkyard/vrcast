<html>
  <head>
    <title>Basic</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-log-component/dist/aframe-log-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.controls.min.js"></script>
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@4.1.0/dist/aframe-layout-component.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>

    <script src="https://unpkg.com/networked-aframe@^0.6.0/dist/networked-aframe.min.js"></script>

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="js/spawn-in-circle.component.js"></script>

    <script src="easyrtc/easyrtc.js"></script>
    <script src="js/rotate-player.js"></script>
    <script src="js/complog.js"></script>
  </head>

  <body>
    <a-scene stats vrlog networked-scene>
      <a-assets>
        <a-asset-items
          id="GLTF"
          src="https://cdn.glitch.com/bcd20947-b0a2-41ba-9449-90fc5e417806%2Fdinorapotor.glb?v=1575244686312"
          crossorigin="anonymous"
        ></a-asset-items>
        <a-asset-items
          id="ufo"
          src="https://cdn.glitch.com/bcd20947-b0a2-41ba-9449-90fc5e417806%2Fufo.glb?v=1575495336711"
          crossorigin="anonymous"
        ></a-asset-items>
        <img />
        <video></video>
        <audio
          id="dreams"
          src="https://cdn.glitch.com/bcd20947-b0a2-41ba-9449-90fc5e417806%2FDreams.mp3?v=1575241249376"
          preload="auto"
          crossorigin="anonymous"
        ></audio>

        <a-mixin
          id="interaction"
          physics-collider
          static-body="shape: sphere; sphereRadius: 0.02"
          super-hands="colliderEvent: collisions;
                            colliderEventProperty: els;
                            colliderEndEvent: collisions;
                            colliderEndEventProperty: clearedEls"
          collision-filter="group: hands;
                                   collidesWith: default, items;
                                   collisionForces: false"
        >
        </a-mixin>

        <!-- Avatar -->
        <template id="avatar-template">
          <a-entity class="avatar">
            <a-sphere
              class="head"
              color="#5985ff"
              scale="0.45 0.5 0.4"
              random-color
            ></a-sphere>
            <a-entity class="face" position="0 0 0">
              <a-sphere
                class="eye"
                color="#efefef"
                position="0.16 0.1 -0.35"
                scale="0.12 0.12 0.12"
              >
                <a-sphere
                  class="pupil"
                  color="#000"
                  position="0 0 -1"
                  scale="0.2 0.2 0.2"
                ></a-sphere>
              </a-sphere>
              <a-sphere
                class="eye"
                color="#efefef"
                position="-0.16 0.1 -0.35"
                scale="0.12 0.12 0.12"
              >
                <a-sphere
                  class="pupil"
                  color="#000"
                  position="0 0 -1"
                  scale="0.2 0.2 0.2"
                ></a-sphere>
              </a-sphere>
            </a-entity>
          </a-entity>
        </template>

        <template id="body">
          <a-entity>
            <a-gltf-model
        src="#ufo"
        position="0 3 -10"
        scale="1 1 1"
        rotation=""
        animation-mixer=""
      ></a-gltf-model>
          </a-entity>
        </template>
      </a-assets>

      <!--START HERE -->
      <a-entity id="environment" environment="preset: default"></a-entity>

      <!-- The Player rig. -->
      <a-entity
        class="head"
        id="cameraRig"
        movement-controls
        rotateplayer="hand:right"
        spawn-in-circle="radius:7"
        networked="template:#body;attachTemplateToLocal:false;"
        look-controls
      >
        <a-camera
          id="head"
                  class="head"
          networked="template:#avatar-template;attachTemplateToLocal:false;"
          camera
        >
        </a-camera>

        <a-entity
          id="left-hand"
          oculus-touch-controls="hand:left"
          teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; button: trigger"
        >
          <a-entity
            text="value: use thumbstick to move;xOffset:-.1"
            rotation="-90 0 0"
          ></a-entity>
        </a-entity>
        <a-entity
          id="right-hand"
          laser-controls=""
          raycaster="far: 3"
          oculus-touch-controls="hand:right"
        >
          <a-entity
            id="handText"
            text="anchor: left; xOffset:.1; value: use thumbstick \n to rotate R or L"
            rotation="-90 0 0"
          ></a-entity>
        </a-entity>
      </a-entity>

      <!-- The VR Console. -->
      <a-log position="-1.5 1.6 -1.25" rotation="0 45 0"></a-log>

      <!--Interactive planes-->
      <a-entity
        layout="type: box; margin: 0.06"
        position="0.8 1 -0.6"
        rotation="0 -30 0"
      >
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: japan"
          event-set__enter1="_event:mouseenter;material.color: red"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:japan"
          event-set__click2="_event: click; _target: #controlText; value: environment set to japan; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: volcano"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:volcano"
          event-set__click2="_event: click; _target: #controlText; value: environment set to volcano; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: starry"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:starry"
          event-set__click2="_event: click; _target: #controlText; value: environment set to starry; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: tron"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:tron"
          event-set__click2="_event: click; _target: #controlText; value: environment set to tron; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: checkerboard"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:checkerboard"
          event-set__click2="_event: click; _target: #controlText; value: environment set to checkerboard; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: forest"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:forest"
          event-set__click2="_event: click; _target: #controlText; value: environment set to forest; visible:true"
        ></a-entity>
        <a-entity
          geometry="primitive: plane; height: auto; width: 0.5"
          material="color: black"
          text="align: center; width: 1; value: egypt"
          event-set__enter1="_event:mouseenter;material.color: blue"
          event-set__leave1="_event:mouseleave;material.color: black"
          event-set__leave2="_event:mouseleave;_target: #controlText; visible: false"
          event-set__click1="_event: click; _target: #environment; environment.preset:egypt"
          event-set__click2="_event: click; _target: #controlText; value: environment set to egypt; visible:true"
        ></a-entity>

        <a-text
          id="controlText"
          value="This button does nothing yet.\nIt's a Work in Progress"
          align="center"
          color="#FFF"
          visible="false"
          position="1.25 0.6 -1.5"
          scale=".25 .25 .25"
        >
        </a-text>
      </a-entity>

      <!--the GLTF model to import-->
      <a-gltf-model
        src="#GLTF"
        position="0 3 -10"
        scale="1 1 1"
        rotation=""
        animation-mixer=""
      ></a-gltf-model>
    </a-scene>
  </body>
</html>
